<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cânticos da Missa - Pasta Virtual</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 25%, #3a3a3a 50%, #c9aa00 75%, #f0d000 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #ffff00, #ffffff, #f0d000);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-shadow: 0 0 20px rgba(255, 255, 0, 0.5);
        }

        .header p {
            font-size: 1.1rem;
            color: rgba(255, 255, 255, 0.8);
        }

        .canticos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .cantico-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 25px;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }

        .cantico-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 0, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .cantico-card:hover::before {
            left: 100%;
        }

        .cantico-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(255, 255, 0, 0.3);
            border-color: #ffff00;
        }

        .cantico-card.realizado {
            background: rgba(0, 255, 0, 0.2);
            border-color: #00ff00;
        }

        .cantico-card.realizado::after {
            content: '✓';
            position: absolute;
            top: 10px;
            right: 15px;
            font-size: 1.5rem;
            color: #00ff00;
            text-shadow: 0 0 10px #00ff00;
        }

        .cantico-card.expandido {
            grid-column: 1 / -1;
            max-width: none;
        }

        .cantico-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
        }

        .cantico-info {
            flex: 1;
        }

        .cantico-numero {
            display: inline-block;
            background: linear-gradient(45deg, #ffff00, #f0d000);
            color: #000;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            text-align: center;
            line-height: 30px;
            font-weight: bold;
            margin-bottom: 15px;
            box-shadow: 0 0 15px rgba(255, 255, 0, 0.5);
        }

        .cantico-tipo {
            font-size: 0.9rem;
            color: #ffff00;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
            font-weight: bold;
        }

        .cantico-titulo {
            font-size: 1.3rem;
            margin-bottom: 10px;
            color: white;
            font-weight: bold;
        }

        .cantico-arquivo {
            font-size: 0.9rem;
            color: rgba(255, 255, 255, 0.7);
            font-style: italic;
        }

        .expand-btn {
            background: linear-gradient(45deg, #ffff00, #f0d000);
            color: #000;
            border: none;
            border-radius: 50%;
            width: 35px;
            height: 35px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .expand-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(255, 255, 0, 0.7);
        }

        .expand-btn.rotated {
            transform: rotate(180deg);
        }

        .cantico-conteudo {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .cantico-conteudo.expandido {
            max-height: 1000px;
        }

        .cantico-letra {
            background: rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            white-space: pre-line;
            font-family: 'Courier New', monospace;
            font-size: 0.95rem;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
            border-left: 4px solid #ffff00;
        }

        .botoes {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-pdf {
            background: linear-gradient(45deg, #ff6b6b, #ff8e8e);
            color: white;
        }

        .btn-pdf:hover {
            background: linear-gradient(45deg, #ff5252, #ff7979);
            transform: scale(1.05);
        }

        .btn-realizado {
            background: linear-gradient(45deg, #4ecdc4, #44a08d);
            color: white;
        }

        .btn-realizado:hover {
            background: linear-gradient(45deg, #26d0ce, #2eb398);
            transform: scale(1.05);
        }

        .btn-realizado.ativo {
            background: linear-gradient(45deg, #00ff00, #32ff32);
            box-shadow: 0 0 15px rgba(0, 255, 0, 0.5);
        }

        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .popup-content {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 15px;
            padding: 20px;
            max-width: 90vw;
            max-height: 90vh;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .popup-close {
            position: absolute;
            top: 10px;
            right: 15px;
            background: #ff4757;
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .popup-close:hover {
            background: #ff3742;
            transform: scale(1.1);
        }

        .popup-pdf {
            width: 80vw;
            height: 80vh;
            border: none;
            border-radius: 10px;
        }

        .progresso {
            margin-top: 30px;
            text-align: center;
            padding: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .progresso h3 {
            color: #ffff00;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .barra-progresso {
            background: rgba(255, 255, 255, 0.2);
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .barra-progresso-fill {
            height: 100%;
            background: linear-gradient(45deg, #ffff00, #00ff00);
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(255, 255, 0, 0.5);
        }

        .progresso-texto {
            color: white;
            font-size: 1.1rem;
        }

        .controles-globais {
            text-align: center;
            margin-bottom: 20px;
        }

        .btn-global {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            padding: 10px 20px;
            margin: 5px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-size: 0.95rem;
            transition: all 0.3s ease;
        }

        .btn-global:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        @media (max-width: 768px) {
            .canticos-grid {
                grid-template-columns: 1fr;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .popup-pdf {
                width: 95vw;
                height: 70vh;
            }

            .cantico-card.expandido {
                grid-column: 1;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎵 Cânticos da Missa</h1>
            <p>Pasta Virtual - Organize e acompanhe os cânticos durante a celebração</p>
        </div>

        <div class="controles-globais">
            <button class="btn-global" onclick="expandirTodos()">📖 Expandir Todos</button>
            <button class="btn-global" onclick="recolherTodos()">📕 Recolher Todos</button>
            <button class="btn-global" onclick="resetarProgresso()">🔄 Resetar Progresso</button>
        </div>

        <div class="canticos-grid" id="canticosGrid">
            <!-- Os cânticos serão inseridos aqui pelo JavaScript -->
        </div>

        <div class="progresso">
            <h3>Progresso da Missa</h3>
            <div class="barra-progresso">
                <div class="barra-progresso-fill" id="barraProgresso"></div>
            </div>
            <div class="progresso-texto" id="progressoTexto">0 de 11 cânticos realizados (0%)</div>
        </div>
    </div>

    <div class="popup-overlay" id="popupOverlay">
        <div class="popup-content">
            <button class="popup-close" id="popupClose">&times;</button>
            <iframe class="popup-pdf" id="popupPdf" src=""></iframe>
        </div>
    </div>

    <script>
        // Dados dos cânticos com letras
        const canticos = [
            {
                id: 1,
                tipo: "Entrada",
                titulo: "Eis-me Aqui, Senhor",
                arquivo: "Entrada-Eis-meAqui,Senhor.pdf",
                letra: "EIS-ME AQUI, SENHOR! EIS-ME AQUI, SENHOR!\nPRA FAZER TUA VONTADE, PRA VIVER NO TEU AMOR,\nPRA FAZER TUA VONTADE PRA VIVER NO TEU AMOR,\nEIS-ME AQUI, SENHOR!\n\nO SENHOR É O PASTOR QUE ME CONDUZ\nPOR CAMINHOS NUNCA VISTOS ME ENVIOU\nSOU CHAMADO A SER FERMENTO, SAL E LUZ\nE POR ISSO RESPONDI: \"AQUI ESTOU!\""
            },
            {
                id: 2,
                tipo: "Ato Penitencial",
                titulo: "Pelos Pecados",
                arquivo: "AtoPenitencial-PelosPecados.pdf",
                letra: "PELOS PECADOS, ERROS PASSADOS\nPOR DIVISÕES NA TUA IGREJA, Ó JESUS\nSENHOR PIEDADE, SENHOR PIEDADE\nSENHOR PIEDADE, PIEDADE DE NÓS (2X)\n\nQUEM NÃO TE ACEITA, QUEM TE REJEITA\nPODE NÃO CRER POR VER CRISTÃOS QUE VIVEM MAL\nCRISTO PIEDADE, CRISTO PIEDADE\nCRISTO PIEDADE, PIEDADE DE NÓS (2X)\n\nHOJE SE A VIDA É TÃO FERIDA\nDEVE-SE A CULPA, INDIFERENÇA DOS CRISTÃOS.\nSENHOR PIEDADE, SENHOR PIEDADE\nSENHOR PIEDADE, PIEDADE DE NÓS (2X)"
            },
            {
                id: 3,
                tipo: "Gloria",
                titulo: "Gloria ao Pai Criador",
                arquivo: "Gloria-gloria_ao_pai_criador.pdf",
                letra: "Glória... Glória...\nAo Pai criador ao Filho redentor\nE ao Espírito Glória (bis)\n\nAo Pai criador do mundo\nAo Filho redentor dos homens\nAo Espírito de amor demos sempre\nGlória..."
            },
            {
                id: 4,
                tipo: "Salmo",
                titulo: "Salmo 32 - Feliz o Povo",
                arquivo: "Salmo-salmo32.pdf",
                letra: "Feliz o povo que o Senhor\nescolheu por sua herança!\n\nÓ justos, alegrai-vos no Senhor!\naos retos fica bem glorificá-lo.\nFeliz o povo cujo Deus é o Senhor\ne a nação que escolheu por sua herança!\n\nMas o Senhor pousa o olhar sobre os que o temem,\ne que confiam esperando em seu amor,\npara da morte libertar as suas vidas\ne alimentá-los quando é tempo de penúria.\n\nNo Senhor nós esperamos confiantes,\nporque ele é nosso auxílio e proteção!\nSobre nós venha, Senhor, a vossa graça,\nda mesma forma que em vós nós esperamos!"
            },
            {
                id: 5,
                tipo: "Aclamação",
                titulo: "A Minha Alma Abrirei",
                arquivo: "Aclamação-a_minhalma_abrirei.pdf",
                letra: "Aleluia Aleluia a minh'alma abrirei\nAleluia Aleluia Cristo é meu Rei\n\n(Repete em tons diferentes)"
            },
            {
                id: 6,
                tipo: "Ofertório",
                titulo: "Meu Coração É Para Ti",
                arquivo: "Ofertório-meu_coracao_eh_para_ti.pdf",
                letra: "Meu coração é para Ti Senhor\nMeu coração é para Ti Senhor\nMeu coração é para Ti Senhor\nMeu coração é para Ti\n\nPorque Tu me deste a Vida\nPorque Tu me deste o existir\nPorque Tu me deste o carinho\nMe deste o Amor\n\nPão e vinho são para Ti...\nA minha vida é para Ti..."
            },
            {
                id: 7,
                tipo: "Santo",
                titulo: "Santo, Santo É",
                arquivo: "Santo-santo_santo_e.pdf",
                letra: "Santo Santo é Santo Santo é\nDeus do universo ó Senhor Javé\nO céu e a terra Vos proclamam Glorioso\nHosana Hosana nas alturas\n\nBendito o que vem em nome do Senhor\nHosana Hosana nas alturas\nHosana Hosana ao Rei.\nHosana Hosana nas alturas\nHosana Hosana ao Rei."
            },
            {
                id: 8,
                tipo: "Cordeiro",
                titulo: "Cordeiro de Deus que Tirais",
                arquivo: "Cordeiro-CordeirodeDeusquetirais.pdf",
                letra: "CORDEIRO DE DEUS QUE TIRAIS O PECADO DO MUNDO\nTENDE PIEDADE, TENDE PIEDADE, TENDE PIEDADE,\nPIEDADE DE NÓS!\n\nCORDEIRO DE DEUS QUE TIRAIS O PECADO DO MUNDO\nTENDE PIEDADE, TENDE PIEDADE, TENDE PIEDADE,\nPIEDADE DE NÓS!\n\nCORDEIRO DE DEUS QUE TIRAIS O PECADO DO MUNDO\nDAÍ-NOS A PAZ, DAÍ-NOS A PAZ, DAÍ-NOS A PAZ SENHOR...\nA VOSSA PAZ"
            },
            {
                id: 9,
                tipo: "Comunhão",
                titulo: "Este Pranto em Minhas Mãos",
                arquivo: "Comunhão-este_pranto_em_minhas_maos.pdf",
                letra: "Muito alegre eu te pedi o que era meu, partir\nUm sonho tão normal\nDissipei meus bens o coração também, no fim\nMeu mundo era irreal\n\nConfiei no teu amor e voltei\nSim aqui é meu lugar\nEu gastei teus bens ó Pai e Te dou\nEste pranto em minhas mãos\n\nMil amigos conheci disseram adeus, caiu\nA solidão em mim\nUm patrão cruel levou-me a refletir: meu Pai\nNão trata um servo assim\n\nNem deixaste-me falar da ingratidão, morreu\nNo abraço o mal que eu fiz\nFesta roupa nova anel sandálias nos pés, voltei\nÀ vida sou feliz"
            },
            {
                id: 10,
                tipo: "Final",
                titulo: "Anjos de Deus",
                arquivo: "Final-AnjosdeDeus.pdf",
                letra: "SE ACONTECER UM BARULHO PERTO DE VOCÊ\nÉ UM ANJO CHEGANDO PARA RECEBER\nSUAS ORAÇÕES E LEVÁ-LAS A DEUS\n\nENTÃO ABRA O CORAÇÃO E COMECE A LOUVAR\nSINTA O GOSTO DO CÉU QUE SE DERRAMA NO ALTAR\nQUE UM ANJO JÁ VEM COM A BENÇÃO NAS MÃOS\n\nTEM ANJOS VOANDO NESTE LUGAR\nNO MEIO DO POVO E EM CIMA DO ALTAR\nSUBINDO E DESCENDO EM TODAS AS DIREÇÕES\n\nNÃO SEI SE A IGREJA SUBIU OU SE O CÉU DESCEU\nSÓ SEI QUE ESTÁ CHEIO DE ANJOS DE DEUS\nPORQUE O PRÓPRIO DEUS ESTÁ AQUI\n\nQUANDO OS ANJOS PASSEIAM A IGREJA SE ALEGRA\nELA CANTA, ELA CHORA, ELA RI E CELEBRA\nABALA O INFERNO E DISSIPA O MAL\nSINTA O VENTO DAS ASAS DOS ANJOS AGORA\nCONFIA IRMÃO POIS É A TUA HORA\nA BENÇÃO CHEGOU E VOCÊ VAI LEVAR"
            },
            {
                id: 11,
                tipo: "Amém",
                titulo: "Aaaamém",
                arquivo: "Amem-Aaaamem.pdf",
                letra: "Amém, Amém, Aaaamém\nAmém, Amém, Aaaamém"
            }
        ];

        let canticosRealizados = new Set();
        let canticosExpandidos = new Set();

        function criarCardCantico(cantico) {
            const realizado = canticosRealizados.has(cantico.id);
            const expandido = canticosExpandidos.has(cantico.id);
            
            return `
                <div class="cantico-card ${realizado ? 'realizado' : ''} ${expandido ? 'expandido' : ''}" data-id="${cantico.id}">
                    <div class="cantico-header">
                        <div class="cantico-info">
                            <div class="cantico-numero">${cantico.id}</div>
                            <div class="cantico-tipo">${cantico.tipo}</div>
                            <div class="cantico-titulo">${cantico.titulo}</div>
                            <div class="cantico-arquivo">${cantico.arquivo}</div>
                        </div>
                        <button class="expand-btn ${expandido ? 'rotated' : ''}" onclick="toggleExpansao(${cantico.id})">
                            ▼
                        </button>
                    </div>
                    
                    <div class="cantico-conteudo ${expandido ? 'expandido' : ''}" id="conteudo-${cantico.id}">
                        <div class="cantico-letra">${cantico.letra}</div>
                        <div class="botoes">
                            <button class="btn btn-pdf" onclick="abrirPDF('${cantico.arquivo}')">📄 Ver PDF</button>
                            <button class="btn btn-realizado ${realizado ? 'ativo' : ''}" onclick="toggleRealizado(${cantico.id})">
                                ${realizado ? '✓ Realizado' : 'Marcar como Realizado'}
                            </button>
                        </div>
                    </div>
                </div>
            `;
        }

        function renderizarCanticos() {
            const grid = document.getElementById('canticosGrid');
            grid.innerHTML = canticos.map(criarCardCantico).join('');
            atualizarProgresso();
        }

        function toggleExpansao(id) {
            if (canticosExpandidos.has(id)) {
                canticosExpandidos.delete(id);
            } else {
                canticosExpandidos.add(id);
            }
            renderizarCanticos();
            salvarEstado();
        }

        function expandirTodos() {
            canticos.forEach(cantico => canticosExpandidos.add(cantico.id));
            renderizarCanticos();
            salvarEstado();
        }

        function recolherTodos() {
            canticosExpandidos.clear();
            renderizarCanticos();
            salvarEstado();
        }

        function resetarProgresso() {
            if (confirm('Tem certeza que deseja resetar todo o progresso?')) {
                canticosRealizados.clear();
                renderizarCanticos();
                salvarEstado();
            }
        }

        function abrirPDF(arquivo) {
            const popup = document.getElementById('popupOverlay');
            const iframe = document.getElementById('popupPdf');
            iframe.src = `upload/${arquivo}`;
            popup.style.display = 'flex';
        }

        function fecharPopup() {
            const popup = document.getElementById('popupOverlay');
            popup.style.display = 'none';
            document.getElementById('popupPdf').src = '';
        }

        function toggleRealizado(id) {
            if (canticosRealizados.has(id)) {
                canticosRealizados.delete(id);
            } else {
                canticosRealizados.add(id);
            }
            renderizarCanticos();
            salvarEstado();
        }

        function atualizarProgresso() {
            const total = canticos.length;
            const realizados = canticosRealizados.size;
            const porcentagem = Math.round((realizados / total) * 100);
            
            document.getElementById('barraProgresso').style.width = `${porcentagem}%`;
            document.getElementById('progressoTexto').textContent = 
                `${realizados} de ${total} cânticos realizados (${porcentagem}%)`;
        }

        function salvarEstado() {
            localStorage.setItem('canticosRealizados', JSON.stringify([...canticosRealizados]));
            localStorage.setItem('canticosExpandidos', JSON.stringify([...canticosExpandidos]));
        }

        function carregarEstado() {
            const realizadosSalvos = localStorage.getItem('canticosRealizados');
            const expandidosSalvos = localStorage.getItem('canticosExpandidos');
            
            if (realizadosSalvos) {
                canticosRealizados = new Set(JSON.parse(realizadosSalvos));
            }
            
            if (expandidosSalvos) {
                canticosExpandidos = new Set(JSON.parse(expandidosSalvos));
            }
        }

        // Event listeners
        document.getElementById('popupClose').addEventListener('click', fecharPopup);
        document.getElementById('popupOverlay').addEventListener('click', function(e) {
            if (e.target === this) {
                fecharPopup();
            }
        });

        // Inicializar a página
        carregarEstado();
        renderizarCanticos();
    </script>
</body>
</html>

